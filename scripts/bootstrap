#!/usr/bin/env bash
set -euo pipefail

ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
cd "$ROOT_DIR"

if ! command -v mint >/dev/null 2>&1; then
  if command -v brew >/dev/null 2>&1; then
    brew install mint
  else
    echo "mint not found and Homebrew is missing. Install Mint and retry." >&2
    exit 1
  fi
fi

mint bootstrap
mint run xcodegen generate --spec project.yml
